@model PDMSCore.BusinessObjects.Project

@using PDMSCore.HtmlHelpers
@{
    ViewBag.Title = "Index";
}



<div class="Section Content">
    @for (int i = 0; i < Model.ToShow.Count; i++)
    {
        <div class="Panel @Model.ToShow[i].Size">
            <div class="Panel-Header">
                <div class="Panel-Header-Left">
                    @Model.ToShow[i].Label
                </div>
                <div class="Panel-Header-Right">
                    <i class="fa fa-gear" aria-hidden="true"></i>
                    <div id="myDropdown" class="dropdown-content">
                        <a href="#">Link 1</a>
                        <a href="#">Link 2</a>
                        <a href="#">Link 3</a>
                    </div>
                </div>
            </div>
            <div class="Panel-Body">
                <form action="#">

                    @for (int f = 0; f < Model.ToShow[i].Content.Count; f++)
                    {
                        @MSHelpers.Field(Model.ToShow[i].Content[f]);
                        @*@MSHelpers.MSLabelTextBox(Model.ToShow[i].Content[f])*@


                        @*@Html.Field(Model.ToShow[i].Content[f])*@

                    }

                    <div class="LabelControlDuo">
                        <div class="label">First :</div>
                        <div class="control"><input type="text" class="CustomTextBox" name="fname"></div>
                    </div>
                    <div class="LabelControlDuo">
                        <div>
                            <input type="submit" value="Submit">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    }
</div>


<script type="text/javascript">
    // Close the dropdown if the user clicks outside of it
    /*Z nejakeho duvodu to funguje pouze kdyz je to tady a ne v site.js.*/
    document.onclick = function (event) {
        if (!event.target.matches('.dropbtn')) {

            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>